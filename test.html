<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Include Example</title>
    <!-- Preload the content files -->
    <link rel="preload" href="booking.html" as="fetch" crossorigin="anonymous">
    <link rel="preload" href="content.html" as="fetch" crossorigin="anonymous">
</head>
<body>
    <div id="included-booking"></div>
    <div id="included-content"></div>
    <footer id="included-content-footer"></footer>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const fetchAndInsertContent = (url, elementId, cacheKey) => {
                // Check if content is available in sessionStorage
                const cachedContent = sessionStorage.getItem(cacheKey);
                if (cachedContent) {
                    document.getElementById(elementId).innerHTML = cachedContent;
                } else {
                    // Fetch the content if not cached
                    fetch(url)
                        .then(response => response.text())
                        .then(data => {
                            document.getElementById(elementId).innerHTML = data;
                            sessionStorage.setItem(cacheKey, data); // Cache the fetched content
                        })
                        .catch(error => console.error('Error fetching content:', error));
                }
            };

            // Fetch and insert booking content
            fetchAndInsertContent('booking.html', 'included-booking', 'included-booking-content');

            // Fetch and insert additional content
            fetchAndInsertContent('content.html', 'included-content', 'included-content');
        });
    </script>
</body>
</html>
